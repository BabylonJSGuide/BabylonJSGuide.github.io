<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>BabylonJS Guide</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" href="/css/libs/slideout.css"><link rel="stylesheet" href="/css/libs/highlight/github.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel="stylesheet" href="/css/main.css"></head><body><nav id="menu"></nav><nav class="nav-main"><!-- Hamburger menu : displayed only in small screens--><i id="mobilemenu" class="fa fa-bars"></i><!-- this button only shows on mobile version of a "class" page--><div class="banner"><div class="menu"><div id="home" class="do-not-hover"><a href="/">Babylon.js | GUIDE</a></div><div id="begin" class="item"><a href="/begins.html">Begin Here</a></div><div id="basic" class="item"><a href="/basics.html">Basics</a></div><div id="intermediate" class="item"><a href="/intermediate.html">Intermediate</a></div><div id="advanced" class="item"><a href="/advanced.html">Advanced</a></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>advanced</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Reflections and Refractions</h1><br><div class="contentTable"><div class="tocHeader"><span class="tocTitle"><i class="tocIcon fa fa-book"></i>Table of contents</span><span class="tocToggle"><i class="fa fa-arrow-up"></i></span></div><div class="tocContent"><ul>
<li><a href="#mirrors-and-glass">Mirrors and Glass</a><ul>
<li><a href="#reflection">Reflection</a><ul>
<li><a href="#cubetexture">CubeTexture</a></li>
<li><a href="#hdrcubetexture">HDRCubeTexture</a></li>
</ul>
</li>
<li><a href="#spherical-reflection-texture">Spherical Reflection Texture</a></li>
</ul>
</li>
</ul>
</div></div><div id="staticContent"><h1><a name="mirrors-and-glass" class="anchor" href="#mirrors-and-glass"></a>Mirrors and Glass</h1><p>Using reflection textures can simulate mirror like material and recfraction textures can simulate looking through glass or water.</p>
<h2><a name="reflection" class="anchor" href="#reflection"></a>Reflection</h2><p>Reflections are created using the <em>relectionTexture</em> property  of a material. A first use is in creating a sky using a <a href="/advanced/Skybox.md">skybox</a></p>
<p>This sets the <em>relectionTexture</em> to a <em>CubeTexture</em> and the <em>coordinatesMode</em> of the <em>relectionTexture</em> to SKYBOX_Mode as in</p>
<pre><code class="lang-javascript">skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(&quot;PATH TO IMAGES FOLDER/COMMON PART OF NAMES&quot;, scene);
skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
</code></pre>
<h3><a name="cubetexture" class="anchor" href="#cubetexture"></a>CubeTexture</h3><p>By default six jpeg images are passed to a <em>CubeTexture</em>. The images are named in this form, commonPart_px.jpg, commonPart_nx.jpg, 
commonPart_py.jpg, commonPart_ny.jpg, commonPart_pz.jpg, commonPart_nz.jpg corresponding to the positions shown below.</p>
<p><img src="/img/cubetexture1.png" alt="CubeTexture Positions">] </p>
<p>When doing this for a skybox the box created is given a large size (1000 in the skybox example above) but <em>CubeTexture</em> can be used with any size box and is one 
way of applying different textures to each side of a cube. Notice that as we are dealing with a small box and we are viewing it from the outside <em>backFaceCulling</em> can be set to <em>true</em>. This is not 
possible when the camera is inside the large skybox since in terms of rendering the sky at the back will be still behind the fron portion and will 
not be rendered should <em>backFaceCulling = true</em>. However we still need to use _reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE_. </p>
<pre><code class="lang-javascript">var box = BABYLON.MeshBuilder.CreateBox(&quot;Box&quot;, {}, scene);
var boxMaterial = new BABYLON.StandardMaterial(&quot;mat&quot;, scene);
boxMaterial.backFaceCulling = true;
boxMaterial.reflectionTexture = new BABYLON.CubeTexture(&quot;http://babylonjsguide.github.io/img/cubeSide&quot;, scene);
boxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;
boxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);
boxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);
box.material = boxMaterial;
</code></pre>
<p><a href="http://www.babylonjs-playground.com/#UU7RQ#2">Playground Example of Different Faces</a> - <i class="fa fa-eye" onclick="createIframe('UU7RQ#2', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<p>From BS 2.4 it is also possible to use High Dynamic Range Cube Textures </p>
<h4><a name="reflecting-on-skybox-and-a-shape" class="anchor" href="#reflecting-on-skybox-and-a-shape"></a>Reflecting on Skybox and a shape</h4><p>Using different <em>coordinatesMode</em> with different shapes will reflect the skybox in the shape</p>
<p><a href="http://www.babylonjs-playground.com/#UU7RQ#3">Playground Example of Box and CUBIC_MODE</a> - <i class="fa fa-eye" onclick="createIframe('UU7RQ#3', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<p><a href="http://www.babylonjs-playground.com/#UU7RQ#5">Playground Example of Ground and PLANAR_MODE</a> - <i class="fa fa-eye" onclick="createIframe('UU7RQ#5', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<p><a href="http://www.babylonjs-playground.com/#UU7RQ#4">Playground Example of Sphere and PLANAR_MODE</a> - <i class="fa fa-eye" onclick="createIframe('UU7RQ#4', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<h3><a name="hdrcubetexture" class="anchor" href="#hdrcubetexture"></a>HDRCubeTexture</h3><p>High Dynamic Range (HDR) images are panoramic images that cover an entire field of vision.</p>
<p>Below is an HDR image of a room</p>
<p><img src="img/room.png" alt="Room"></p>
<p>Replace the following line</p>
<pre><code class="lang-javascript">skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(&quot;PATH TO IMAGES FOLDER/COMMON PART OF NAMES&quot;, scene);
</code></pre>
<p>with</p>
<pre><code class="lang-javascript">skyboxMaterial.reflectionTexture = new BABYLON.HDRCubeTexture(&quot;PATH TO HDR IMAGE&quot;, scene);
</code></pre>
<p><a href="http://www.babylonjs-playground.com/#114YPX#5">Playground Example of HDR Skybox</a> - <i class="fa fa-eye" onclick="createIframe('114YPX#5', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<h2><a name="spherical-reflection-texture" class="anchor" href="#spherical-reflection-texture"></a>Spherical Reflection Texture</h2><p>Not only can a cube texture can be applied to a sphere so can a plane single image.</p>
<p><img src="img/reflectest.png" alt="Squares"></p>
<p>The above image was applied to each of four spheres, one as a diffuse texture and the other three with <em>reflectionTexture</em> but different <em>coordinatesMode</em>. The resuls are below.</p>
<p><img src="img/modes.png" alt="Reflecion on Spheres"></p>
<p>| Diffuse Texture | SPHERICAL_MODE |
| PLANAR_MODE | PROJECTION_MODE |</p>
<p><a href="http://www.babylonjs-playground.com/#20OAV9#26">Playground Example of Coordinates Modes</a> - <i class="fa fa-eye" onclick="createIframe('20OAV9#26', this)"></i><br/><div class="iframeContainer"></div><br/></p>
</div></div></div><footer class="footer"><div class="footer-item"><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>    Github</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Documentation" target="_blank"><i class="fa fa-code-fork"></i>    Contribute</a></div><div class="footer-item"><a href="http://doc.babylonjs.com/" target="_blank"><i class="fa fa-html5"></i>    Official Documentation        </a></div></footer><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src="/js/index.js"></script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-66146410-1', 'auto');
ga('send', 'pageview');</script><!-- HIGHLIGHT JS--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js"></script><script src="/js/static.js"></script><script>$('code').each(function(){
    $(this).text($(this).text().replace(/&nbsp;/gi, ''));
});
hljs.initHighlightingOnLoad();</script></body></html>