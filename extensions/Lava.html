<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>BabylonJS Guide</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" href="/css/libs/slideout.css"><link rel="stylesheet" href="/css/libs/highlight/github.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel="stylesheet" href="/css/main.css"></head><body><nav id="menu"></nav><nav class="nav-main"><!-- Hamburger menu : displayed only in small screens--><i id="mobilemenu" class="fa fa-bars"></i><!-- this button only shows on mobile version of a "class" page--><div class="banner"><div class="menu"><div id="home" class="do-not-hover"><a href="/">Babylon.js | GUIDE</a></div><div id="begin" class="item"><a href="/begins.html">Begin Here</a></div><div id="tutorials" class="item"><a href="/tutorials.html">Tutorials</a></div><div id="overview" class="item"><a href="/overviews.html">Overviews</a></div><div id="exporters" class="item"><a href="/exporters.html">Exporters</a></div><div id="extensions" class="item active"><a href="/extensions.html">Extensions</a></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>extensions</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Lava</h1><br><div class="contentTable"><div class="tocHeader"><span class="tocTitle"><i class="tocIcon fa fa-book"></i>Table of contents</span><span class="tocToggle"><i class="fa fa-arrow-up"></i></span></div><div class="tocContent"><ul>
<li><a href="#playground-examplehttpwwwbabylonjs-playgroundcom1blvwo"><a href="http://www.babylonjs-playground.com/#1BLVWO">Playground example</a></a></li>
<li><a href="#using-the-lava-material">Using the lava material</a></li>
<li><a href="#customize-the-lava-material">Customize the lava material</a></li>
</ul>
</div></div><div id="staticContent"><h1><a name="lava-material" class="anchor" href="#lava-material"></a>Lava material</h1><p><img src="/img/extensions/materials/lava.jpg" alt="Screenshot"></p>
<h2><a name="a-hrefhttpwwwbabylonjs-playgroundcom1blvwoplayground-examplea" class="anchor" href="#playground-examplehttpwwwbabylonjs-playgroundcom1blvwo"></a><a href="http://www.babylonjs-playground.com/#1BLVWO">Playground example</a> - <i class="fa fa-eye" onclick="createIframe('1BLVWO', this)"></i><br/><div class="iframeContainer"></div><br/></h2><p>Lava material can be found here: <a href="https://github.com/BabylonJS/Babylon.js/blob/master/materialsLibrary/dist/babylon.lavaMaterial.js">https://github.com/BabylonJS/Babylon.js/blob/master/materialsLibrary/dist/babylon.lavaMaterial.js</a></p>
<h2><a name="using-the-lava-material" class="anchor" href="#using-the-lava-material"></a>Using the lava material</h2><p>The lava material needs at least a noise texture and a diffuse texture to render properly.
Just create a new reference of the material and assign it two textures:</p>
<pre><code>var ground = BABYLON.Mesh.CreateGround(&quot;ground&quot;, 512, 512, 32, scene);

var lavaMaterial = new BABYLON.LavaMaterial(&quot;lava&quot;, scene);
lavaMaterial.noiseTexture = new BABYLON.Texture(&quot;cloud.png&quot;, scene); // Set the bump texture
lavaMaterial.diffuseTexture = new BABYLON.Texture(&quot;lavatile.jpg&quot;, scene); // Set the diffuse texture

ground.material = lavaMaterial;
</code></pre><p>The diffuse texture will be the color of your lava, the noise texture will represent the lava deformation.
Notice that this material will update each vertex position of your object. If there are not enough vertices, 
some artefacts may appears.</p>
<h2><a name="customize-the-lava-material" class="anchor" href="#customize-the-lava-material"></a>Customize the lava material</h2><p>You can customize two properties of the material:</p>
<pre><code>lavaMaterial.speed = 2.0; // Default 1. Represents speed of perturbations of the lava
lavaMaterial.fogColor = new BABYLON.Color3(1, 0, 0); // Default to (0,0,0) black. Represents the color of the fog displayed on the lava ground.
</code></pre></div></div></div><footer class="footer"><div class="footer-item"><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>    Github</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Documentation" target="_blank"><i class="fa fa-code-fork"></i>    Contribute</a></div><div class="footer-item"><a href="http://doc.babylonjs.com/" target="_blank"><i class="fa fa-html5"></i>    Official Documentation        </a></div></footer><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src="/js/index.js"></script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-66146410-1', 'auto');
ga('send', 'pageview');</script><!-- HIGHLIGHT JS--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js"></script><script src="/js/static.js"></script><script>$('code').each(function(){
    $(this).text($(this).text().replace(/&nbsp;/gi, ''));
});
hljs.initHighlightingOnLoad();</script></body></html>