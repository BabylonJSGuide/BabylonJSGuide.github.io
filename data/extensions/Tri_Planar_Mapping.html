<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>BabylonJS Guide</title><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" href="/css/libs/slideout.css"><link rel="stylesheet" href="/css/libs/highlight/github.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel="stylesheet" href="/css/main.css"></head><body><nav id="menu"></nav><nav class="nav-main"><!-- Hamburger menu : displayed only in small screens--><i id="mobilemenu" class="fa fa-bars"></i><!-- this button only shows on mobile version of a "class" page--><div class="banner"><div class="menu"><div id="home" class="do-not-hover"><a href="/">Babylon.js | GUIDE</a></div><div id="begin" class="item"><a href="/begins">Begin Here</a></div><div id="tutorials" class="item"><a href="/tutorials">Tutorials</a></div><div id="overview" class="item"><a href="/overviews">Overviews</a></div><div id="exporters" class="item"><a href="/exporters">Exporters</a></div><div id="extensions" class="item active"><a href="/extensions">Extensions</a></div></div><div class="more"><div class="searchbar"><form method="get" action="/search"><input type="text" name="q" placeholder="Search..."><button type="submit"><i class="fa fa-search"></i></button></form></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>extensions</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Tri-Planar Mapping</h1><br><div class="contentTable"><div class="tocHeader"><span class="tocTitle"><i class="tocIcon fa fa-book"></i>Table of contents</span><span class="tocToggle"><i class="fa fa-arrow-up"></i></span></div><div class="tocContent"><ul>
<li><a href="#playground-example">Playground Example</a></li>
<li><a href="#what-are-you-talking-about">What are you talking about??</a></li>
<li><a href="#using-the-tri-planar-mapping-material">Using the tri-planar mapping material</a></li>
</ul>
</div></div><div id="staticContent"><h1><a name="tri-planar-mapping-material" class="anchor" href="#tri-planar-mapping-material"></a>Tri-Planar Mapping Material</h1><p><img src="/img/extensions/materials/triPlanar.jpg" alt="Tri-Planar Mapping Material"></p>
<h2><a name="playground-example" class="anchor" href="#playground-example"></a>Playground Example</h2><p>A Playground example can be found here: <a href="http://www.babylonjs-playground.com/#E6OZX#9">Tri-Planar Playground</a> - <i class="fa fa-eye" onclick="createIframe('E6OZX#9', this)"></i><br/><div class="iframeContainer"></div><br/></p>
<p>Press &quot;1&quot; to activate the Tri-Planar material (by default)
Press &quot;2&quot; to active the default material</p>
<h2><a name="what-are-you-talking-about" class="anchor" href="#what-are-you-talking-about"></a>What are you talking about??</h2><p>In the case of very large scenes, you are likely to use terrains generated using procedural methods.
In this case, you&#39;ll have to compute the vertices positions, normals and UVs (and so on).
One of the most tricky tasks should be to generate the UV coordinates properly without taking care of the possible abrupt changes of the terrains.</p>
<p>For example, an abrupt changement can cause this kind of glitches:</p>
<p><img src="/img/extensions/materials/triPlanarProblem.jpg" alt="Tri-Planar Mapping Material Problem"></p>
<p>That should look like:</p>
<p><img src="/img/extensions/materials/triPlanarResolved.jpg" alt="Tri-Planar Mapping Material Resolved"></p>
<p>The tri-planar mapping material tends to resolve this kind of problem, but above all, allows to completely eliminate the UV calculations: no UV needed.</p>
<h2><a name="using-the-tri-planar-mapping-material" class="anchor" href="#using-the-tri-planar-mapping-material"></a>Using the tri-planar mapping material</h2><p>The tri-planar material works with at least 3 textures: each texture represents how it is applied on each axis (X, Y and Z).</p>
<p>Of course, each axis can share the same texture. Example:</p>
<pre><code class="lang-javascript">var triPlanarMaterial = new BABYLON.TriPlanarMaterial(&quot;triplanar&quot;, scene);

// The 3 diffuse textures must be set, even if they share the same texture reference
triPlanarMaterial.diffuseTextureX = new BABYLON.Texture(&quot;rock.png&quot;, scene);
triPlanarMaterial.diffuseTextureY = new BABYLON.Texture(&quot;grass.png&quot;, scene);
triPlanarMaterial.diffuseTextureZ = triPlanarMaterial.diffuseTextureX;
</code></pre>
<p>You can also customize the tile size by setting the .tileSize property:</p>
<pre><code class="lang-javascript">triPlanarMaterial.tileSize = 1.5;
</code></pre>
<p>For more quality, the tri-planar material also supports normal mapping. Just set the normal textures:</p>
<pre><code class="lang-javascript">var triPlanarMaterial = new BABYLON.TriPlanarMaterial(&quot;triplanar&quot;, scene);
// ...

// In the case of normal maps, it is not necessary to set the 3 textures
triPlanarMaterial.normalTextureX = new BABYLON.Texture(&quot;textures/rockn.png&quot;, scene);
triPlanarMaterial.normalTextureY = new BABYLON.Texture(&quot;textures/grassn.png&quot;, scene);
triPlanarMaterial.normalTextureZ = triPlanarMaterial.normalTextureX;
</code></pre>
<p>To go further in the theory, you can read this <a href="http://gamedevelopment.tutsplus.com/articles/use-tri-planar-texture-mapping-for-better-terrain--gamedev-13821">great article</a> about tri-planar mapping.</p>
</div></div></div><footer class="footer"><div class="footer-item"><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>    Github</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Documentation" target="_blank"><i class="fa fa-code-fork"></i>    Contribute</a></div><div class="footer-item"><a href="http://doc.babylonjs.com/" target="_blank"><i class="fa fa-code-html5"></i>    Official Documentation        </a></div></footer><script src="https://code.jquery.com/jquery-2.1.4.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src="/js/index.js"></script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-66146410-1', 'auto');
ga('send', 'pageview');</script><!-- HIGHLIGHT JS--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js"></script><script src="/js/static.js"></script><script>$('code').each(function(){
    $(this).text($(this).text().replace(/&nbsp;/gi, ''));
});
hljs.initHighlightingOnLoad();</script></body></html>